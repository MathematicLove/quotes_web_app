{% extends 'quotes/base.html' %}
{% block title %}–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É{% endblock %}
{% block content %}
<h1 class="text-xl font-semibold mb-4">–¶–∏—Ç–∞—Ç—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</h1>

<form class="mb-6 flex gap-2" method="get">
  <input name="q" value="{{ query }}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ / –∫–Ω–∏–≥–∏" class="w-full px-3 py-2 rounded border">
  <button class="px-4 py-2 rounded bg-slate-800 text-white">–ò—Å–∫–∞—Ç—å</button>
</form>

{% if source %}
  <h2 class="text-lg font-semibold mb-3">–ò—Å—Ç–æ—á–Ω–∏–∫: {{ source.title }}</h2>
  {% if quotes %}
    <ul class="space-y-3">
      {% for q in quotes %}
      <li class="bg-white rounded-2xl shadow p-4">
        <div class="text-lg">‚Äú{{ q.text }}‚Äù</div>
        <div class="mt-1 text-sm text-slate-500">–í–µ—Å: {{ q.weight }} ¬∑ üëç {{ q.likes }} ¬∑ üëé {{ q.dislikes }}</div>
      </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-slate-500">–¶–∏—Ç–∞—Ç –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!</p>
  {% endif %}
{% elif query %}
  <div class="bg-amber-50 border border-amber-200 p-4 rounded-xl">
    <p class="mb-2">–ù–µ –Ω–∞—à–ª–∏ ¬´{{ query }}¬ª. –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —Ü–∏—Ç–∞—Ç—É?</p>
    <form method="post">
      {% csrf_token %}
      {{ quick_form.as_p }}
      <button class="px-4 py-2 rounded bg-green-600 text-white">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
  </div>
{% endif %}
{% endblock %}
